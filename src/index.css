@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-geist: 'Geist', system-ui, sans-serif;
    --font-geist-mono: 'Geist Mono', monospace;
    --font-mona: 'Mona Sans', system-ui, sans-serif;
    --font-ibm-plex: 'IBM Plex Sans', system-ui, sans-serif;
    --font-manrope: 'Manrope', system-ui, sans-serif;

    /* Brand palette */
    --brand-ink: #1c1934;
    --brand-plum-900: #48154e;
    --brand-plum-700: #662249;
    --brand-rose-600: #a44158;
    --brand-apricot: #ee9c60;
    --brand-blush: #e9bcb9;
    --brand-white: #FFFFFF;
  }

  html {
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  body {
    @apply antialiased text-white;
    background-color: var(--brand-ink);
    background-image:
      radial-gradient(1000px 500px at 20% -10%, rgba(72,21,78,0.35), transparent 60%),
      radial-gradient(800px 400px at 80% 0%, rgba(102,34,73,0.28), transparent 60%),
      radial-gradient(900px 480px at 50% 100%, rgba(164,65,88,0.25), transparent 65%),
      radial-gradient(1200px 600px at 50% 50%, rgba(238,156,96,0.12), transparent 70%);
    background-attachment: fixed;
    color: rgba(255,255,255,0.94);
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
}

@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(238,156,96,0.35); }
  50% { box-shadow: 0 0 0 12px rgba(238,156,96,0); }
}

@keyframes gradientX {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes shine {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Vertical marquee for stats */
@keyframes marqueeUp {
  0% { transform: translateY(0); }
  100% { transform: translateY(-50%); }
}

/* Old film subtle flicker */
@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; filter: contrast(1) brightness(1); }
  20%, 24%, 55% { opacity: 0.96; filter: contrast(1.05) brightness(0.98); }
  22% { opacity: 0.92; filter: contrast(1.1) brightness(0.95); }
}

@layer utilities {
  .animate-float { animation: float 6s ease-in-out infinite; }
  .animate-pulse-glow { animation: pulseGlow 2.4s ease-in-out infinite; }
  .animate-gradient { background-size: 200% 200%; animation: gradientX 10s ease infinite; }
  .card-hover { @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl; }

  /* Glass with brand tint */
  .glass { @apply backdrop-blur-md; background: linear-gradient(180deg, rgba(73,24,78,0.35), rgba(28,25,52,0.35)); border: 1px solid rgba(233,188,185,0.25); }

  /* Brand gradient text (default) */
  .gradient-text {
    background-image: linear-gradient(100deg, var(--brand-plum-900), var(--brand-plum-700), var(--brand-rose-600), var(--brand-apricot));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Higher-contrast gradient text for dark backgrounds */
  .gradient-text-contrast {
    background-image: linear-gradient(100deg, var(--brand-apricot), #ffd9b5, var(--brand-white));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5), 0 0 12px rgba(238,156,96,0.2);
  }

  /* Apricot â†’ Plum gradient text with soft glow */
  .gradient-text-apricot-plum {
    background-image: linear-gradient(100deg, var(--brand-apricot), var(--brand-plum-700), var(--brand-plum-900));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 1px 2px rgba(0,0,0,0.55), 0 0 14px rgba(238,156,96,0.25);
  }

  /* Brand glow ring */
  .gradient-ring { position: relative; }
  .gradient-ring:before {
    content: "";
    position: absolute; inset: -1px; border-radius: inherit;
    background: conic-gradient(from 180deg, rgba(72,21,78,.6), rgba(102,34,73,.55), rgba(164,65,88,.5), rgba(238,156,96,.45), rgba(72,21,78,.6));
    filter: blur(12px); z-index: -1; opacity: .7;
  }

  /* Marquee helpers */
  .marquee-mask { mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); }
  .marquee-up { will-change: transform; animation: marqueeUp 16s linear infinite; }

  /* Film reel look */
  .film-strip { position: relative; background: linear-gradient(180deg, rgba(28,25,52,0.65), rgba(72,21,78,0.4)); border: 1px solid rgba(233,188,185,0.18); box-shadow: inset 0 0 0 1px rgba(233,188,185,0.08), 0 10px 30px rgba(0,0,0,0.35); }
  .film-strip:before, .film-strip:after {
    content: ""; position: absolute; top: 0; bottom: 0; width: 14px; pointer-events: none; opacity: 0.9;
    background:
      linear-gradient(var(--brand-ink), var(--brand-ink)) padding-box,
      repeating-linear-gradient(to bottom,
        rgba(233,188,185,0.16) 0 10px,
        rgba(233,188,185,0.16) 10px 26px,
        transparent 26px 46px
      ) border-box;
    border: 2px solid rgba(233,188,185,0.22);
  }
  .film-strip:before { left: -2px; border-right: 0; border-radius: 8px 0 0 8px; }
  .film-strip:after { right: -2px; border-left: 0; border-radius: 0 8px 8px 0; }

  /* Grain + vignette overlays */
  .film-grain { position: relative; }
  .film-grain:after {
    content: ""; position: absolute; inset: 0; pointer-events: none;
    background-image:
      radial-gradient(circle at 25% 20%, rgba(255,255,255,0.06) 0 1px, transparent 1px),
      radial-gradient(circle at 60% 40%, rgba(0,0,0,0.12) 0 1px, transparent 1px),
      radial-gradient(circle at 80% 70%, rgba(255,255,255,0.05) 0 1px, transparent 1px);
    background-size: 6px 6px, 8px 8px, 10px 10px;
    mix-blend-mode: overlay; opacity: .4; animation: flicker 6s infinite;
  }
  .vignette { position: relative; }
  .vignette:before { content: ""; position: absolute; inset: -2px; pointer-events: none; border-radius: inherit; box-shadow: inset 0 0 120px rgba(0,0,0,0.55); }

  /* Reel frames */
  .reel-frame { background: linear-gradient(180deg, rgba(233,188,185,0.08), rgba(28,25,52,0.6)); border: 1px solid rgba(233,188,185,0.2); box-shadow: 0 2px 8px rgba(0,0,0,0.35); }

  /* Aspect ratio 4:3 utility for cards */
  .aspect-4-3 { position: relative; width: 100%; padding-bottom: 75%; }
  .aspect-inner { position: absolute; inset: 0; }

  /* Subtle tilt utilities for the marquee columns */
  .tilt-left { transform: rotate(20deg); transform-origin: center; }
  .tilt-right { transform: rotate(20deg); transform-origin: center; }

  @media (max-width: 640px) {
    .tilt-left, .tilt-right { transform: none; }
    .gradient-text-contrast { text-shadow: 0 1px 2px rgba(0,0,0,0.6); }
  }
}
